<?xml version="1.0"?>
<Container>
    <Name>MeshCore Web Docker</Name>
    <Repository>ghcr.io/drewzh/meshcore-web-docker:latest</Repository>
    <Registry>https://ghcr.io/drewzh/meshcore-web-docker</Registry>
    <Network>bridge</Network>
    <MyIP />
    <Shell>bash</Shell>
    <Privileged>false</Privileged>
    <Support>https://github.com/drewzh/meshcore-web-docker/issues</Support>
    <Project>https://github.com/drewzh/meshcore-web-docker</Project>
    <Overview>
        A Docker container that downloads and hosts the MeshCore web application from
        files.liamcottle.net.
        Features runtime download of the latest MeshCore version, version management with atomic
        switching,
        persistent storage for faster subsequent starts, and graceful fallback to cached versions.
        **IMPORTANT:** HTTPS is required for Bluetooth features. This container serves HTTP only and
        should be
        used behind a reverse proxy (nginx Proxy Manager, Traefik, Caddy, etc.) for HTTPS
        termination.

        The container automatically detects and downloads the latest version on startup, with
        support for
        loading pages during download and zero-downtime version switching using symlinks.
    </Overview>
    <Category>Network:Web;Productivity:Tools</Category>
    <WebUI>http://[IP]:[PORT:8080]/</WebUI>
    <TemplateURL />
    <Icon>https://raw.githubusercontent.com/drewzh/unraid-templates/main/icons/meshcore-web.png</Icon>
    <ExtraParams></ExtraParams>
    <PostArgs></PostArgs>
    <CPUset></CPUset>
    <DateInstalled></DateInstalled>
    <DonateText></DonateText>
    <DonateLink></DonateLink>
    <Description>Docker container hosting MeshCore web application with automatic updates and
        version management</Description>
    <Networking>
        <Mode>bridge</Mode>
        <Publish>
            <Port>
                <HostPort>8080</HostPort>
                <ContainerPort>80</ContainerPort>
                <Protocol>tcp</Protocol>
                <Description>HTTP port</Description>
            </Port>
        </Publish>
    </Networking>
    <Data>
        <Volume>
            <HostDir>/mnt/user/appdata/meshcore-web/versions</HostDir>
            <ContainerDir>/app/versions</ContainerDir>
            <Mode>rw</Mode>
            <Description>Persistent storage for MeshCore versions and cache</Description>
        </Volume>
    </Data>
    <Environment>
        <Variable>
            <Name>TZ</Name>
            <Value>Europe/London</Value>
            <Mode></Mode>
            <Description>Container timezone (e.g., America/New_York, Europe/London, UTC)</Description>
            <Required>false</Required>
            <Mask>false</Mask>
        </Variable>
        <Variable>
            <Name>MESHCORE_BASE_URL</Name>
            <Value>https://files.liamcottle.net/MeshCore</Value>
            <Mode></Mode>
            <Description>Base URL for MeshCore downloads (default is official source)</Description>
            <Required>false</Required>
            <Mask>false</Mask>
        </Variable>
        <Variable>
            <Name>PUID</Name>
            <Value>99</Value>
            <Mode></Mode>
            <Description>User ID for file permissions (Unraid compatibility)</Description>
            <Required>false</Required>
            <Mask>false</Mask>
        </Variable>
        <Variable>
            <Name>PGID</Name>
            <Value>100</Value>
            <Mode></Mode>
            <Description>Group ID for file permissions (Unraid compatibility)</Description>
            <Required>false</Required>
            <Mask>false</Mask>
        </Variable>
    </Environment>
    <Labels />
    <Config Name="HTTP Port" Target="80" Default="8080" Mode="tcp" Type="Port" Display="always"
        Required="true" Mask="false">Container web UI port (HTTP only - use reverse proxy for HTTPS)</Config>
    <Config Name="Versions Data" Target="/app/versions"
        Default="/mnt/user/appdata/meshcore-web/versions" Mode="rw"
        Type="Path" Display="always" Required="true" Mask="false">Persistent storage for MeshCore
        versions and cache</Config>
    <Config Name="TZ" Target="TZ" Default="Europe/London" Type="Variable"
        Display="always" Required="false" Mask="false">Container timezone</Config>
    <Config Name="MESHCORE_BASE_URL" Target="MESHCORE_BASE_URL"
        Default="https://files.liamcottle.net/MeshCore" Type="Variable"
        Display="advanced" Required="false" Mask="false">Base URL for MeshCore downloads</Config>
    <Config Name="PUID" Target="PUID" Default="99" Type="Variable"
        Display="advanced" Required="false" Mask="false">User ID for file permissions</Config>
    <Config Name="PGID" Target="PGID" Default="100" Type="Variable"
        Display="advanced" Required="false" Mask="false">Group ID for file permissions</Config>
    <DonateText />
    <DonateLink />
    <Requires>Docker</Requires>
    <NetworkingMode>bridge</NetworkingMode>
    <Beta>false</Beta>
    <RepoShort>ghcr.io/drewzh/meshcore-web-docker</RepoShort>
</Container>